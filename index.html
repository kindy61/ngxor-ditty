<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"> 
    <title>ngxor-dity - a tiddlywiki base on nginx openresty</title>
    <link href="static/style.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js" type="text/javascript"></script>
    <script src="static/showdown.js" type="text/javascript"></script>
    <script src="static/ditty.js" type="text/javascript"></script>
  </head>
  <body>
    <div id="header">
      <h1>Ditty</h1>
      <div id="menu">
        <ul id="nav">
          <li>
            <a class="new_ditty" href="/new">New Ditty</a>
          </li>
          <li>
            <a class="close_all">Close All</a>
          </li>
          <li>
            <a class="hotlink">Hot Ditties</a>
          </li>
        </ul>
      </div>
    </div>
    <div id="content">
      <div id="right">
        <div id="ditties"></div>
      </div>
      <div id="left">
        <div class="box">
          <h2>Hot Ditties</h2>
          <ul id="hotditties"></ul>
        </div>
        <div class="box">
          <div style="font-size: 0.8em;">Design based on a design by <a href="http://www.minimalistic-design.net">Minimalistic Design</a></div>
        </div>
      </div>
    </div>
<div id="tmpl" style="display:none">
<div class='ditty' id='#{ditty.title}'>
    <h3>#{ditty.title}</h3>
    <ul class='ditty_control'>
    <li><a rel='close' href='/#{ditty.title}'>close</a></li>
    <li><a rel='edit' href='/#{ditty.title}/edit'>edit</a></li>
    </ul>
<div class='body'>
#{linkify_text(ditty.body)}
</div>
<ul class='tags'>
<li>tags would be here</li>
</ul>
</div>
<div class="ditty_edit">
  <h3>{%=ditty.title%}</h3>
  <ul class="edit_links">
    <li>
    <a href="{%=ditty.title%}" rel="cancel">cancel</a>
    </li>
    <li>
      <a href="{%=ditty.title%}" rel="create">done</a>
      </li>
      <li>
      <a href="{%=ditty.title%}" rel="destroy">delete</a>
    </li>
  </ul>
  <form onsubmit="return false;">
      <input type="text" name="ditty_title" size="60" value="{%=ditty.title%}">
    <br />
    <textarea name="ditty_body" cols="60" rows="10">{%=ditty.body%}</textarea>
  </form>
</div>
</div>
</body>
</html>
